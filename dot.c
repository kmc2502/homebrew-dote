#include <stdio.h>
#include <unistd.h>

char a[16][16] = {
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0},
    { 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 3, 0, 0},
    { 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 3, 3, 3, 0},
    { 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0,3 , 0, 0},
    { 0, 0, 0, 1, 1, 1, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0},
    { 0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0},
    { 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 0, 0},
    { 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1 ,0, 0},
    { 1, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 0},
    { 1, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 1},
    { 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 1, 1},
    { 1, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 2, 4, 4, 1, 1},
    { 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 1, 1, 0},
    { 0, 1, 1, 2, 2, 2, 2, 2, 4, 4, 4, 1, 1, 1, 0, 0},
    { 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
};

char b[16][16] = {
    {0,0,0,0,0,0,0,0,0,0,0,1,1,3,0,0},
    {0,0,0,0,0,0,0,0,1,1,1,0,3,3,3,0},
    {0,0,0,0,0,0,0,1,1,0,0,0,0,3,0,0},
    {0,0,0,0,0,1,1,2,1,0,0,0,0,0,0,0},
    {0,0,0,0,1,1,2,2,2,1,0,0,0,0,0,0},
    {0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0},
    {0,0,1,2,1,2,1,2,2,2,2,1,0,0,0,0},
    {0,1,1,2,1,2,1,2,2,2,2,1,0,0,0,0},
    {0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0},
    {1,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0},
    {1,1,2,2,2,1,1,2,2,2,2,2,4,1,0,0},
    {0,1,2,2,2,2,2,2,2,2,2,4,1,0,0,0},
    {0,1,2,2,2,2,2,2,2,4,4,4,1,0,0,0},
    {0,1,1,2,2,2,2,4,4,4,1,1,0,0,0,0},
    {0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
};

int color(int x){
    if (x == 1) return 28;
    else if (x == 2) return 46;
    else if (x == 3) return 226;
    else if (x == 4) return 34;
    else return 0;
}

void draw(char data[16][16]){
    printf("\x1b[H\x1b[J");  // 画面クリア
    for (int i = 0; i < 16; i++) {
        for (int j = 0; j < 16; j++) {
            printf("\x1b[48;5;%dm  \x1b[0m", color(data[i][j]));
        }
        printf("\n");
    }
}

/*int main(void){
    for (int k = 0; k < 20; k++) {
        if (k % 2 == 0) draw(a);
        else draw(b);

        getchar();  // キー入力待ち
    }
    printf("\x1b[H\x1b[J");
    printf("おしまい！\n");
    return 0;
}*/

void dote(int k){
    printf("\e[H\e[J\e[?7l");
    for (int i = 0; i < 16; i++)
    {
        printf("%*s",k,"");
        for (int j = 0; j < 16; j++)
        {
            int x = a[i][j];
            if(k % 2 == 1){x = b[i][j];}
            printf("\e[48;5;%dm",color(x));
            printf("  ");//printf("%2d,x");
            printf("\e[0m");
        }
        printf("\n");
    }
    usleep(100000);
}

int main(){
    for(int k = 55; k > 0; k--){dote(k);}
    for(int k = 0; k < 55; k++){dote(k);}
}